# Changelog

All notable changes to this project will be documented in this file.

## [0.1.11] - 2026-02-26
### Added
- `--with-why` flag to include `Why it matters` only when explicitly requested.

### Changed
- `Why it matters` is no longer included by default in markdown output.
- Preserved structured payload compatibility by returning `sections.why_it_matters` as an empty list when omitted.
- Expanded tests for default omission vs explicit inclusion behavior.

## [0.1.10] - 2026-02-26
### Added
- Structured JSON output mode (`--json`) for agent/tool consumption.
- Destination selector (`--destination release|update|social|internal`) to tune draft tone/templates.

### Changed
- Structured payload now includes destination in `options` for cross-surface parity.
- Improved `Why it matters` phrasing to be clearer and less placeholder-like.
- Updated README/CLI docs and tests for structured output + destination behavior.

## [0.1.9] - 2026-02-25
### Changed
- Expanded short-preset low-signal filtering heuristics to suppress common release-maintenance noise:
  - `docs:` commits mentioning `devlog`, `release notes`, or `changelog`
  - `chore:` commits mentioning release/version/dependency/changelog maintenance terms
- Added regression coverage for dependency-chore filtering in short mode.
- Added version-consistency test to keep `pyproject.toml` and package `__version__` aligned.

## [0.1.8] - 2026-02-25
### Changed
- Refined short-mode low-signal fallback heuristics:
  - suppress stale changelog carryover when all in-range commits are filtered as low-signal
  - preserve low-signal commit bullets when no changelog context exists (avoid empty drafts)
- Expanded tests/docs for refined short-mode fallback behavior (`16 passed`).

## [0.1.7] - 2026-02-25
### Changed
- Suppress changelog enrichment when selected commit range has zero commits (avoids stale summaries).
- Added tests/docs for no-commit-range behavior and short-mode output consistency (`16 passed`).

## [0.1.6] - 2026-02-25
### Changed
- Refined short-mode low-signal handling:
  - Prefer changelog signal when low-signal commits are filtered out.
  - Keep commit bullets when filtering would otherwise produce an empty draft and no changelog context exists.
- Added tests for low-signal fallback behavior and updated CLI docs.

## [0.1.5] - 2026-02-25
### Added
- Short-preset low-signal filtering heuristics for common release/admin commits.
- `--keep-low-signal` override flag when that filtering should be disabled.

### Changed
- Expanded tests and docs for short-mode filtering behavior (`13 passed`).

## [0.1.4] - 2026-02-25
### Added
- Draft output cap controls:
  - `--max-bullets`
  - `--max-changelog-items`

### Changed
- Added normalization-based dedupe between commit-derived and changelog-derived bullets.
- Tightened `--preset short` defaults for more concise updates.
- Expanded tests and docs for dedupe + cap behavior (`12 passed`).

## [0.1.3] - 2026-02-25
### Added
- Output presets via `--preset`:
  - `standard` (fuller release-note style)
  - `short` (concise chat/update style)

### Changed
- Presets now control defaults for title and section verbosity while preserving existing explicit flags.
- Added tests and docs for preset behavior (`10 passed`).

## [0.1.2] - 2026-02-25
### Added
- Scope filters for draft generation:
  - `--include-scope` (repeatable)
  - `--exclude-scope` (repeatable)

### Changed
- Changelog enrichment now uses bullets from the latest `##` section, with fallback to top-level bullets when no sections exist.
- Nested changelog bullets are ignored to reduce noisy/duplicated output.
- Expanded tests and docs for scope filtering + changelog section behavior (`9 passed`).

## [0.1.1] - 2026-02-25
### Added
- Commit-type filtering for draft generation:
  - `--include-type` (repeatable)
  - `--exclude-type` (repeatable)
- Scope-aware grouping via `--group-by scope` for conventional commits like `feat(api): ...`.
- Template customization knobs:
  - `--title-template` (supports `{repo}`)
  - `--no-validation`
  - `--no-links`

### Changed
- Expanded tests and CLI docs for filtering, scope grouping, and template toggles (`8 passed`).

## [0.1.0] - 2026-02-25
### Added
- Initial project scaffold generated by `agent-first-starter` (`cli-only` preset + release workflow scaffold).
- `ship-note draft` CLI command for markdown devlog generation from git history.
- Commit range selection controls: `--since-tag`, `--since-commit`, default latest tag to `HEAD`.
- Deterministic markdown output sections: Title, What shipped, Why it matters, Validation, Links.
- Optional changelog enrichment: merge `CHANGELOG.md` bullets into `What shipped`.
- Optional file output mode: `--output <path>`.
- Test coverage for range resolution, rendering, changelog extraction, and output file writing (`6 passed`).
